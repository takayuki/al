# ==============================================================================
#
# Makefile.real
#
# ==============================================================================


# ==============================================================================
# Variables
# ==============================================================================

CC      := @CC@
CFLAGS  := @DEFS@ -I. -Wall -Winline -O3 @CFLAGS@
#CFLAGS  += -DTL2_OPTIM_HASHLOG
#CFLAGS  += -DTL2_RESIZE_HASHLOG
LD      := @CC@

LIBTL2 := libtl2.a

SRCS := \
	tl2.c \
	tmalloc.c \
#
OBJS := ${SRCS:.c=.o}

AR      := ar
RANLIB  := ranlib

RM := rm -f


# ==============================================================================
# Rules
# ==============================================================================

.PHONY: default
default: $(LIBTL2)

.PHONY: clean
clean:
	$(RM) $(LIBTL2) $(OBJS)

.PHONY: distclean
distclean: clean
	rm -f Makefile config.h
	rm -f config.cache config.log config.status

%.o: %.c
	$(CC) $(CFLAGS) -c $< -o $@

$(LIBTL2): $(OBJS)
	$(AR) cru $@ $^
	$(RANLIB) $@


# ==============================================================================
# Dependencies
# ==============================================================================

%.o: %.h


# ==============================================================================
#
# End of Makefile.real
#
# ==============================================================================
